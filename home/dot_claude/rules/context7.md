---
paths:
  - package.json
  - pnpm-lock.yaml
  - yarn.lock
  - package-lock.json
  - "**/*.ts"
  - "**/*.tsx"
  - "**/*.js"
  - "**/*.jsx"
---

# Context7 ルール

## 使うべきケース

- ライブラリ／FW の API 仕様確認（引数、戻り値、非推奨、互換性）
- セットアップ・設定（例: Next.js / React / Vite / Prisma / AWS SDK など）
- バージョン差分が効きやすい内容（例: Next.js 14/15、React 18/19 など）
- エラー原因が「ドキュメント上の変更」で起きうるとき

## 使わないケース

- プロジェクト固有のロジックや既存コードの読解が主で、外部仕様確認が不要
- 一般的なアルゴリズム・言語仕様（ECMAScript/TypeScript の基礎など）でドキュメント参照が不要
- Context7 を使うと逆にノイズが増える（例: ごく小さなユーティリティ修正）

## 使う場合の出力要件

- 参照したドキュメントに基づく前提（対象バージョン、前提条件）を明記すること
- 不確かな場合は「不確か」と明示し、追加で確認すべき点を列挙すること

## バージョン前提の取り扱い

- ライブラリやフレームワークの手順を提示するときは、対象バージョンを必ず明記する。
- ユーザーがバージョンを明示していない場合は、次の順で判断する：
  1) リポジトリ内の lockfile / package.json / go.mod 等から推定
  2) 推定できない場合は「不明」と明示し、分岐（例: v1 と v2）を併記する
- バージョン差が疑われる場合は Context7 を使って裏取りした上で回答する。
