---
name: require-code-review-fixes
enabled: true
event: stop
action: block
---

⚠️ **セッション終了前の確認**

CLAUDE.md のルールに従い、以下を確認してください：

## 確認事項

- [ ] コードレビュー（`/code-review:code-review`）を実施しましたか？
- [ ] スコア 50 以上の指摘事項をすべて修正しましたか？
- [ ] 修正内容をコミット・プッシュしましたか？

## 次のステップ

- **すべて完了している場合**: 続行を選択して停止できます
- **未対応がある場合**: キャンセルして対応を完了してください

## 二重の安全網

このルールは、`hookify.code-review-immediate-fix.local.md` と組み合わせて二重の安全網を提供します：

1. **PostToolUse イベント**: コードレビュー実行直後に即座ブロック（スコア 50 以上の指摘がある場合）
2. **Stop イベント（このルール）**: セッション終了時に最終確認

これにより、セッション内およびセッション間での対応漏れを防ぎます。
