## 目的

この dotfiles リポジトリに対する AI エージェント共通の作業方針を定義します。

## 基本方針

- 会話は日本語で行う。
- コード内コメントは日本語で記載する。
- エラーメッセージは英語で記載する。
- 日本語と英数字の間には半角スペースを挿入する。
- コミットメッセージは Conventional Commits に従う（description は日本語）。

## 判断記録のルール

1. 判断内容の要約を記載する。
2. 検討した代替案を列挙する。
3. 採用しなかった案とその理由を明記する。
4. 前提条件・仮定・不確実性を明示する。
5. 他エージェントによるレビュー可否を示す。

## 開発手順（概要）

1. リポジトリ構成を把握する。
2. `home/` 配下のテンプレートや設定ファイルを更新する。
3. 影響範囲を確認する。
4. Docker で `chezmoi apply` を実行して結果を確認する。

## PR 作成後

1. コンフリクトがないことを確認する
2. PR 本文が最新状態のみを網羅していることを確認する
3. `gh pr checks <PR ID> --watch` で CI を確認する
4. Copilot レビューに対応し、コメントに返信し、対応したレビュースレッドのみ resolve する（詳細は `home/dot_claude/CLAUDE.md` を参照）
5. Codex のコードレビューを実施し、指摘対応を行う
6. PR 本文の崩れがないことを確認する

## セキュリティ / 機密情報

- Discord Webhook や API キーは暗号化またはローカル設定で管理し、平文をコミットしない。
- ログに機密情報を出力しない。

## リポジトリ固有

- 目的: chezmoi で dotfiles と AI エージェント設定を管理する。
- `home/` 配下が chezmoi のソースであり、実ファイルは `dot_` プレフィックスで管理する。
- `.env` は `~/.env.example` をコピーして手動で作成する（chezmoi 管理外）。
- Git 設定は `~/.gitconfig.local.example` をコピーして手動で作成する（chezmoi 管理外）。
