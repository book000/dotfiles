# AI Agents 作業方針

## 目的
このリポジトリにおける、AI エージェント共通の作業方針とプロジェクト固有ルールを定義します。

## 基本方針
- 会話は日本語で行う。
- コード内コメントは日本語で記載する。
- エラーメッセージは英語で記載する。
- 日本語と英数字の間には半角スペースを挿入する。
- コミットメッセージは [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) に従う。

## 判断記録のルール
1. 判断内容の要約を記載する
2. 検討した代替案を列挙する
3. 採用しなかった案とその理由を明記する
4. 前提条件・仮定・不確実性を明示する
5. 他エージェントによるレビュー可否を示す

## 開発手順（概要）
1. **プロジェクト理解**: `chezmoi` を利用した dotfiles 管理の構造を把握する。
2. **依存関係確認**: `chezmoi` や `age` が利用可能であることを確認する。
3. **変更実装**: `home/` 配下のテンプレートや設定ファイルを更新する。
4. **検証**: `chezmoi apply --dry-run` 等を用いて、意図した変更が適用されるか確認する。

## セキュリティ / 機密情報
- API キー、Webhook URL、認証情報などの機密情報は、絶対に平文でコミットしない。
- `age` を利用した暗号化、または `chezmoi.toml` でのローカル変数管理を徹底する。
- 実行ログやデバッグ出力に機密情報を含めない。

## リポジトリ固有
- **chezmoi**: `home/` ディレクトリがソースの起点であり、実ファイル名は `dot_` で始まる。
- **暗号化**: `encrypted_` プレフィックスが付いたファイルは `age` で保護されている。
- **エージェント設定**: `home/dot_gemini/`, `home/dot_claude/` 等に、各ツール向けの配布用設定が含まれている。
- **プロンプト**: この `AGENTS.md` を含むルートのプロンプトファイルは、このリポジトリ自体の開発用である。